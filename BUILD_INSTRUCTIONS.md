# EU Harmonized Standards Checker - Build Instructions

PyInstallerã‚’ä½¿ç”¨ã—ã¦ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹æ‰‹é †ã§ã™ã€‚

## ğŸ“‹ å‰ææ¡ä»¶

### é–‹ç™ºç’°å¢ƒã®æº–å‚™
```bash
# Python 3.7ä»¥ä¸ŠãŒå¿…è¦
python --version

# ä»®æƒ³ç’°å¢ƒã®ä½œæˆï¼ˆæ¨å¥¨ï¼‰
python -m venv build_env
source build_env/bin/activate  # Linux/Mac
# ã¾ãŸã¯
build_env\Scripts\activate     # Windows
```

### ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
# å…¨ã¦ã®ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# PyInstallerã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install pyinstaller
```

## ğŸ”¨ ãƒ“ãƒ«ãƒ‰æ‰‹é †

### æ–¹æ³•1: è‡ªå‹•ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆæ¨å¥¨ï¼‰
```bash
python build_executable.py
```

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒä»¥ä¸‹ã‚’è‡ªå‹•å®Ÿè¡Œã—ã¾ã™ï¼š
1. âœ… PyInstallerå­˜åœ¨ç¢ºèª
2. âœ… ä¾å­˜é–¢ä¿‚ç¢ºèª
3. ğŸ§¹ å‰å›ãƒ“ãƒ«ãƒ‰ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
4. ğŸ”¨ å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
5. ğŸ§ª å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ãƒ†ã‚¹ãƒˆ
6. ğŸ“¦ é…å¸ƒãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä½œæˆ

### æ–¹æ³•2: æ‰‹å‹•ãƒ“ãƒ«ãƒ‰
```bash
# ã‚¯ãƒªãƒ¼ãƒ³ãƒ“ãƒ«ãƒ‰
pyinstaller --clean --noconfirm eu_standards_checker.spec

# ã¾ãŸã¯åˆå›ãƒ“ãƒ«ãƒ‰ç”¨
pyinstaller --onefile --name="eu_standards_checker" run_checker.py
```

## ğŸ“‚ ãƒ“ãƒ«ãƒ‰çµæœ

ãƒ“ãƒ«ãƒ‰æˆåŠŸå¾Œã€ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¾ã™ï¼š

```
dist/
â”œâ”€â”€ eu_standards_checker(.exe)  # ãƒ¡ã‚¤ãƒ³å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ README_PACKAGE.md           # ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ oj_config.json              # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ requirements.txt            # ä¾å­˜é–¢ä¿‚ãƒªã‚¹ãƒˆ
â””â”€â”€ USAGE.txt                   # ä½¿ç”¨æ–¹æ³•
```

## ğŸ¯ å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã®ç‰¹å¾´

- **ã‚µã‚¤ã‚º**: ç´„50-100MB
- **ä¾å­˜é–¢ä¿‚**: Pythonç’°å¢ƒä¸è¦ã€å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒæ¢±
- **å¯¾å¿œOS**: Windows (.exe), Linux, macOS
- **èµ·å‹•æ™‚é–“**: åˆå›5-10ç§’ã€2å›ç›®ä»¥é™1-3ç§’

## ğŸ§ª ãƒ†ã‚¹ãƒˆæ–¹æ³•

### åŸºæœ¬å‹•ä½œãƒ†ã‚¹ãƒˆ
```bash
# ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
./dist/eu_standards_checker

# å¯¾è©±ãƒ¢ãƒ¼ãƒ‰
./dist/eu_standards_checker interactive

# è¦æ ¼å–å¾—ãƒ†ã‚¹ãƒˆ  
./dist/eu_standards_checker check RED
```

### é…å¸ƒå‰ãƒ†ã‚¹ãƒˆé …ç›®
- [ ] å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ãŒèµ·å‹•ã™ã‚‹
- [ ] å¯¾è©±ãƒ¢ãƒ¼ãƒ‰ãŒå‹•ä½œã™ã‚‹
- [ ] OJè¦æ ¼å–å¾—ãŒæˆåŠŸã™ã‚‹
- [ ] ETSIæ¤œç´¢ãŒå‹•ä½œã™ã‚‹
- [ ] ISO17025æŠ½å‡ºãŒå‹•ä½œã™ã‚‹
- [ ] è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒèª­ã¿è¾¼ã‚ã‚‹

## ğŸ“¦ é…å¸ƒæº–å‚™

### 1. ãƒ•ã‚¡ã‚¤ãƒ«æº–å‚™
```bash
# é…å¸ƒç”¨ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ
mkdir eu_standards_checker_v1.0

# å¿…è¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼
cp dist/eu_standards_checker* eu_standards_checker_v1.0/
cp dist/*.md eu_standards_checker_v1.0/
cp dist/*.json eu_standards_checker_v1.0/
cp dist/*.txt eu_standards_checker_v1.0/
```

### 2. åœ§ç¸®
```bash
# ZIPå½¢å¼ã§åœ§ç¸®
zip -r eu_standards_checker_v1.0.zip eu_standards_checker_v1.0/

# ã¾ãŸã¯ tar.gzå½¢å¼
tar -czf eu_standards_checker_v1.0.tar.gz eu_standards_checker_v1.0/
```

## âš ï¸ æ³¨æ„äº‹é …

### ãƒ“ãƒ«ãƒ‰ç’°å¢ƒ
- ãƒ“ãƒ«ãƒ‰ã—ãŸOSã§ã®ã¿å®Ÿè¡Œå¯èƒ½ï¼ˆã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ä¸å¯ï¼‰
- Windowsã§.exeã€Linux/macOSã§ãƒã‚¤ãƒŠãƒªã‚’ä½œæˆ
- 32bit/64bitã¯ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã«ä¾å­˜

### ã‚µã‚¤ã‚ºæœ€é©åŒ–
- ä¸è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’`excludes`ã«è¿½åŠ 
- UPXåœ§ç¸®ã‚’æœ‰åŠ¹åŒ–ï¼ˆ`upx=True`ï¼‰
- å¿…è¦æœ€å°é™ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã¿å«ã‚ã‚‹

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚¦ã‚¤ãƒ«ã‚¹ã‚¹ã‚­ãƒ£ãƒŠã«æ¤œçŸ¥ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚‹
- ç¤¾å†…é…å¸ƒæ™‚ã¯äº‹å‰ã«ITéƒ¨é–€ã«ç¢ºèªã‚’æ¨å¥¨

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

1. **ModuleNotFoundError**
   ```bash
   # éš ã—ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’è¿½åŠ 
   pyinstaller --hidden-import=missing_module run_checker.py
   ```

2. **ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã™ãã‚‹**
   ```python
   # spec ãƒ•ã‚¡ã‚¤ãƒ«ã§excludesã‚’è¿½åŠ 
   excludes=['matplotlib', 'scipy', 'numpy']
   ```

3. **èµ·å‹•ãŒé…ã„**
   - åˆå›èµ·å‹•ã¯å±•é–‹å‡¦ç†ã®ãŸã‚é…ã„ï¼ˆæ­£å¸¸ï¼‰
   - `--onedir`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æ”¹å–„å¯èƒ½ï¼ˆè¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«é…å¸ƒï¼‰

4. **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„**
   ```python
   # ãƒãƒ³ãƒ‰ãƒ«ç’°å¢ƒã§ã®ç›¸å¯¾ãƒ‘ã‚¹å‡¦ç†ã‚’ç¢ºèª
   if getattr(sys, 'frozen', False):
       config_path = os.path.join(sys._MEIPASS, 'oj_config.json')
   ```

### ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰
```bash
# ãƒ‡ãƒãƒƒã‚°æƒ…å ±ä»˜ãã§ãƒ“ãƒ«ãƒ‰
pyinstaller --debug=all eu_standards_checker.spec
```

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

- ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼: specãƒ•ã‚¡ã‚¤ãƒ«ã®`hiddenimports`ã‚’ç¢ºèª
- å®Ÿè¡Œã‚¨ãƒ©ãƒ¼: `--debug=all`ã§ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’å–å¾—
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹: `--onedir`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ¤œè¨

---
**ãƒ“ãƒ«ãƒ‰å®Œäº†å¾Œã¯ `dist/` ãƒ•ã‚©ãƒ«ãƒ€å†…ã®å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ãŒé…å¸ƒå¯èƒ½ã§ã™ï¼**